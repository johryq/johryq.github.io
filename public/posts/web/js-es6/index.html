<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>JS ES5 | 2332334</title><meta name=keywords content><meta name=description content="JS ES5 - 2332334"><meta name=author content="2332334"><link rel=canonical href=blog.2332334.xyz/posts/web/js-es6/><link crossorigin=anonymous href=blog.2332334.xyz/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=blog.2332334.xyz/favicon.ico><link rel=icon type=image/png sizes=16x16 href=blog.2332334.xyz/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=blog.2332334.xyz/favicon-32x32.png><link rel=apple-touch-icon href=blog.2332334.xyz/apple-touch-icon.png><link rel=mask-icon href=blog.2332334.xyz/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=blog.2332334.xyz/posts/web/js-es6/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="blog.2332334.xyz/posts/web/js-es6/"><meta property="og:site_name" content="2332334"><meta property="og:title" content="JS ES5"><meta property="og:description" content="false"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-11-08T19:58:55+08:00"><meta property="article:modified_time" content="2024-12-04T09:05:21+08:00"><meta property="og:image" content="blog.2332334.xyz/images/papermod-cover.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="blog.2332334.xyz/images/papermod-cover.png"><meta name=twitter:title content="JS ES5"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"blog.2332334.xyz/posts/"},{"@type":"ListItem","position":2,"name":"JS ES5","item":"blog.2332334.xyz/posts/web/js-es6/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"JS ES5","name":"JS ES5","description":"","keywords":[],"articleBody":"javascript ES6 语法 既 ecma 2015年6月推出的ecmascript标准统称\n类与实例 封装 继承 多态 类中注意事项\n类无变量提升，必须先定义再使用 类中共有方法和属性必须加 this 才能访问 constructor 中的 this 指向实例对象，方法中的 this 指向方法调用者 创建类\nclass Car { // 构造函数 constructor(name) { this.name = name } driver(dname){ console.log('bmw is drive') } } 继承 extends\nclass Bmw extends Car{} super 关键字\n必须在子类 this 关键字之前使用 class Bmw extends Car{ constructor(name){ super(name) // 获取父类中的数据 } super.driver() } 构造函数与原型 ES6 之前 组合继承 首字母大写，new 创建 function Man(name,age){ this.name = name, this.age = age, this.talk = function() { console.log('i am talk') } } var am = new Man('am',12) 静态成员与实例成员\nMan.lastName = 'ln' //静态成员 ，只对构造函数可用可访问 am.talk() //实例对象 构造函数 原型对象 prototype\n实现构造函数内 方法共享 共用同一内存空间\nMan.production.drink = function(){ console.log('drink') } 实例对象 通过 proto 访问构造函数中的 prototype；即 proto =\u003e prototype ;两者等价\nconstructor属性\n即构造函数本身\n构造函数 实例对象 原型对象 三者关系\n原型链 =\u003e 逐层查找 直至 object 下一层级 null\ncall方法 改变this指向\nfunction Father (uname, age) { this.uname = uname, this.age = age } // 继承父构造 function Son (uname, age) { Father.call(this,uname,age) } new methods forEach() 迭代遍历 arrary.forEach((value, index, array) =\u003e { console.log('数组元素，索引号，数组本身') }) return true 不可中断循环\nfilter() 过滤 arrary var returnArray = arrary.filter((value,index,array) =\u003e { return value\u003e=10 }) some() 查找数组中是否有满足条件的元素 bool var Val = arrary.some((value, index, array) =\u003e { return true }) console.log('Val === true') 匹配到第一个元素后即返回\nObject.defineProperty() 定义新属性或修改原有属性 Object.defineProperty(obj, prop, descriptor) descriptor 包含4种属性\nvalue 设置属性值 writable 是否可重写 enumerable 是否可枚举 configurable 是否可被删除或被再次修改 method 定义 // 1 function f1() {} // 2 var f2 = function() {}; //3 var f3 = Function('a', 'b', 'console.log(a+b)') f3(1,2) 和class中相同有原型链\n调用 // 1 普通函数 function f1() {} f1() f1.call() // 2 对象的方法 var obj = { callMe: function() {} } obj.callMe() // 3 构造函数 function F3() {} new F3() // 4 绑定事件 btn.onclick = function() {} // 5 定时器函数 setInterval(function(){}, 1000) // 1s后自动调用 // 6 立即执行函数 (function(){})() apply 改变this指向,第二参数为array var arr = [1,32,324,22,214] var max = Math.max.apply(Math,arr) bind 不改变原有函数this，不调用原函数 返回原函数的拷贝 严格模式 'use strict'; 严格模式 this 指向\n以前全局函数 this 指向 window；现在为 undefined 以前构造函数不 new 可调用，当普通函数，this 指向 全局；现在 报错 new 实例化构造函数指向创建的对象实例 定时器 this 指向 window 事件，对象指向调用者 函数不能有重名参数 函数声明必须在顶层，ES6引入块级作用；不允许非函数代码块内声明函数 可为整个脚本开启，获取为某个函数开启\n高阶函数 =\u003e 函数为参数 委托\n闭包 =\u003e 有权访问另一个函数作用域中的变量的函数，延伸变量作用范围\n浅拷贝 =\u003e 拷贝一层，更深层次数据（对象,数组）只拷贝引用地址\n// 浅拷贝语法 Object.assign(sourceObj,newObj) 深拷贝 =\u003e 拷贝多层，每一层级都会拷贝\n正则 异步 Promise ES5语法 避免回调地狱；是个构造函数\nconst promise = new Promise() promise.then() // 返回的是Promise对象的话，可进行链式调用 .catch() // 捕获错误；最后可捕获前所有错误，最前则避免then停止持续执行 .all(promiseArry) // 根据promiseArray 顺序执行，执行完毕后返回结果 .race() // 并行执行传入的promise，相较all更快 await async ES8 es2017\nawait 返回异步操作之后的结果\nasync waitTimer() { await setInterval(() =\u003e {console.log('timer)} ,0) } EventLoop js为单线程 异步任务委托给宿主环境（浏览器，node.js）执行 已完成异步任务对应回调在任务队列中排队等待执行 js主线程执行结束后，再执行该任务队列，依次执行 宏任务-微任务 异步任务分为 宏任务 微任务\n每次宏任务执行完；判断是否有微任务；有则执行完所有微任务再执行宏任务\n宏任务： 需要排队等待的\nexap： setInterval\n微任务\nexap： Promise\nES6语法 ES2015 之后的标准\nlet 有块级作用域 不存在变量提升（先声明才能使用） 暂时性死区 var num = 10; if(true){ num = 20; let num = 30 } // num is not defined const 值（内存地址）不可变 有块级作用域 声明必须赋值 解构赋值 按照一定模式，从数组或对象中提取值，将提取的值赋值给另一个变量\n数组\nlet [a, b,c] = [1, 2, 3] console.log(a) console.log(b) console.log(c) 对象\nlet person = { name: 'zs', age: 20} let {name, age} =person console.log(name) console.log(age) let {name: myName, age: myAge} =person // myName 等为别名 console.log(myName) console.log(myAge) 箭头函数 函数体只有一句话，且执行结果就是返回值，可省略函数体大括号\n形参只有一个，可省略小括号\nArray 扩展方法 Array.from 将伪数组或可遍历对象转化为数组；第二个参数，类似数组的map，对每个元素进行处理，将处理后的值返回数组\nArray.find 查找符合条件的第一个数组成员，没有返回 undefined\nArray.findIndex\nArray.includes\n数组中是否包含给定值，返回bool\n模版字符串 let name = `${name} hello` String 扩展方法 startsWith 参数字符串是否在原字符串头部，返回bool\nendsWith 参数字符串是否在原字符串尾部\nrepeat 将字符串重复N次，返回新字符串\nSet 数据结构 类似数组，成员值唯一，没有重复值；是个构造函数\nconst s1 = new Set() s1.size s1.add() // return s1 s1.delete() // return bool s1.has() // return bool s1.clear() // no return s1.forEach((value,index) =\u003e console.log(value+' '+index)) ","wordCount":"517","inLanguage":"en","image":"blog.2332334.xyz/images/papermod-cover.png","datePublished":"2021-11-08T19:58:55+08:00","dateModified":"2024-12-04T09:05:21+08:00","author":{"@type":"Person","name":"2332334"},"mainEntityOfPage":{"@type":"WebPage","@id":"blog.2332334.xyz/posts/web/js-es6/"},"publisher":{"@type":"Organization","name":"2332334","logo":{"@type":"ImageObject","url":"blog.2332334.xyz/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=blog.2332334.xyz/ accesskey=h title="2332334 (Alt + H)">2332334</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=blog.2332334.xyz/archives title=活动><span>活动</span></a></li><li><a href=blog.2332334.xyz/search/ title=搜索><span>搜索</span></a></li><li><a href=blog.2332334.xyz/tags/ title=标签><span>标签</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=blog.2332334.xyz/>Home</a>&nbsp;»&nbsp;<a href=blog.2332334.xyz/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">JS ES5</h1><div class=post-meta><span title='2021-11-08 19:58:55 +0800 CST'>2021-11-08</span>&nbsp;·&nbsp;517 words&nbsp;·&nbsp;2332334</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#类与实例>类与实例</a></li><li><a href=#构造函数与原型-es6-之前-组合继承>构造函数与原型 ES6 之前 组合继承</a><ul><li><a href=#new-methods>new methods</a></li></ul></li><li><a href=#method>method</a></li><li><a href=#正则>正则</a></li><li><a href=#异步>异步</a><ul><li><a href=#promise>Promise</a></li><li><a href=#await-async>await async</a></li><li><a href=#eventloop>EventLoop</a></li><li><a href=#宏任务-微任务>宏任务-微任务</a></li></ul></li><li><a href=#es6语法>ES6语法</a><ul><li><a href=#let>let</a></li><li><a href=#const>const</a></li><li><a href=#解构赋值>解构赋值</a></li><li><a href=#箭头函数>箭头函数</a></li><li><a href=#array-扩展方法>Array 扩展方法</a></li><li><a href=#模版字符串>模版字符串</a></li><li><a href=#string-扩展方法>String 扩展方法</a></li><li><a href=#set-数据结构>Set 数据结构</a></li></ul></li></ul></nav></div></details></div><div class=post-content><h1 id=javascript-es6-语法>javascript ES6 语法<a hidden class=anchor aria-hidden=true href=#javascript-es6-语法>#</a></h1><p>既 ecma 2015年6月推出的ecmascript标准统称</p><h2 id=类与实例>类与实例<a hidden class=anchor aria-hidden=true href=#类与实例>#</a></h2><ul><li>封装</li><li>继承</li><li>多态</li></ul><p>类中注意事项</p><ol><li>类无变量提升，必须先定义再使用</li><li>类中共有方法和属性必须加 this 才能访问</li><li>constructor 中的 this 指向实例对象，方法中的 this 指向方法调用者</li></ol><p>创建类</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Car</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 构造函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>constructor</span><span class=p>(</span><span class=nx>name</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>name</span> <span class=o>=</span> <span class=nx>name</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nx>driver</span><span class=p>(</span><span class=nx>dname</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;bmw is drive&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>继承 extends</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Bmw</span> <span class=kr>extends</span> <span class=nx>Car</span><span class=p>{}</span>
</span></span></code></pre></div><p>super 关键字</p><ul><li>必须在子类 this 关键字之前使用</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Bmw</span> <span class=kr>extends</span> <span class=nx>Car</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>(</span><span class=nx>name</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=kr>super</span><span class=p>(</span><span class=nx>name</span><span class=p>)</span> <span class=c1>// 获取父类中的数据
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kr>super</span><span class=p>.</span><span class=nx>driver</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=构造函数与原型-es6-之前-组合继承>构造函数与原型 ES6 之前 组合继承<a hidden class=anchor aria-hidden=true href=#构造函数与原型-es6-之前-组合继承>#</a></h2><ul><li>首字母大写，new 创建</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>function</span> <span class=nx>Man</span><span class=p>(</span><span class=nx>name</span><span class=p>,</span><span class=nx>age</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>name</span> <span class=o>=</span> <span class=nx>name</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>age</span> <span class=o>=</span> <span class=nx>age</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>talk</span> <span class=o>=</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;i am talk&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>am</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Man</span><span class=p>(</span><span class=s1>&#39;am&#39;</span><span class=p>,</span><span class=mi>12</span><span class=p>)</span>
</span></span></code></pre></div><p>静态成员与实例成员</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>Man</span><span class=p>.</span><span class=nx>lastName</span> <span class=o>=</span> <span class=s1>&#39;ln&#39;</span> <span class=c1>//静态成员 ，只对构造函数可用可访问
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nx>am</span><span class=p>.</span><span class=nx>talk</span><span class=p>()</span> <span class=c1>//实例对象
</span></span></span></code></pre></div><p>构造函数 原型对象 prototype</p><blockquote><p>实现构造函数内 方法共享 共用同一内存空间</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>Man</span><span class=p>.</span><span class=nx>production</span><span class=p>.</span><span class=nx>drink</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;drink&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><blockquote><p>实例对象 通过 <em>proto</em> 访问构造函数中的 prototype；即 <em>proto</em> => prototype ;两者等价</p></blockquote><p>constructor属性</p><blockquote><p>即构造函数本身</p></blockquote><p>构造函数 实例对象 原型对象 三者关系</p><p><img alt=class loading=lazy src=./images/calss.png></p><p>原型链 => 逐层查找 直至 object 下一层级 null</p><p>call方法 改变this指向</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>function</span> <span class=nx>Father</span> <span class=p>(</span><span class=nx>uname</span><span class=p>,</span> <span class=nx>age</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>uname</span> <span class=o>=</span> <span class=nx>uname</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>age</span> <span class=o>=</span> <span class=nx>age</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 继承父构造
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>Son</span> <span class=p>(</span><span class=nx>uname</span><span class=p>,</span> <span class=nx>age</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>Father</span><span class=p>.</span><span class=nx>call</span><span class=p>(</span><span class=k>this</span><span class=p>,</span><span class=nx>uname</span><span class=p>,</span><span class=nx>age</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=new-methods>new methods<a hidden class=anchor aria-hidden=true href=#new-methods>#</a></h3><ul><li>forEach() 迭代遍历</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>arrary</span><span class=p>.</span><span class=nx>forEach</span><span class=p>((</span><span class=nx>value</span><span class=p>,</span> <span class=nx>index</span><span class=p>,</span> <span class=nx>array</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;数组元素，索引号，数组本身&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></div><blockquote><p>return true 不可中断循环</p></blockquote><ul><li>filter() 过滤 arrary</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>returnArray</span> <span class=o>=</span> <span class=nx>arrary</span><span class=p>.</span><span class=nx>filter</span><span class=p>((</span><span class=nx>value</span><span class=p>,</span><span class=nx>index</span><span class=p>,</span><span class=nx>array</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>value</span><span class=o>&gt;=</span><span class=mi>10</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></div><ul><li>some() 查找数组中是否有满足条件的元素 bool</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>Val</span> <span class=o>=</span> <span class=nx>arrary</span><span class=p>.</span><span class=nx>some</span><span class=p>((</span><span class=nx>value</span><span class=p>,</span> <span class=nx>index</span><span class=p>,</span> <span class=nx>array</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Val === true&#39;</span><span class=p>)</span>
</span></span></code></pre></div><blockquote><p>匹配到第一个元素后即返回</p></blockquote><ul><li>Object.defineProperty() 定义新属性或修改原有属性</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nb>Object</span><span class=p>.</span><span class=nx>defineProperty</span><span class=p>(</span><span class=nx>obj</span><span class=p>,</span> <span class=nx>prop</span><span class=p>,</span> <span class=nx>descriptor</span><span class=p>)</span>
</span></span></code></pre></div><p>descriptor 包含4种属性</p><ol><li>value 设置属性值</li><li>writable 是否可重写</li><li>enumerable 是否可枚举</li><li>configurable 是否可被删除或被再次修改</li></ol><h2 id=method>method<a hidden class=anchor aria-hidden=true href=#method>#</a></h2><ul><li>定义</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 1
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>f1</span><span class=p>()</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 2
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>f2</span> <span class=o>=</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//3
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>f3</span> <span class=o>=</span> <span class=nb>Function</span><span class=p>(</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=s1>&#39;console.log(a+b)&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>f3</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span>
</span></span></code></pre></div><blockquote><p>和class中相同有<code>原型链</code></p></blockquote><ul><li>调用</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 1 普通函数
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>f1</span><span class=p>()</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=nx>f1</span><span class=p>()</span> <span class=nx>f1</span><span class=p>.</span><span class=nx>call</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 2 对象的方法
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>obj</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>callMe</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>obj</span><span class=p>.</span><span class=nx>callMe</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 3 构造函数
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>F3</span><span class=p>()</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=k>new</span> <span class=nx>F3</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 4 绑定事件
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>btn</span><span class=p>.</span><span class=nx>onclick</span> <span class=o>=</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 5 定时器函数
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>setInterval</span><span class=p>(</span><span class=kd>function</span><span class=p>(){},</span> <span class=mi>1000</span><span class=p>)</span> <span class=c1>// 1s后自动调用
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// 6 立即执行函数
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>(</span><span class=kd>function</span><span class=p>(){})()</span>
</span></span></code></pre></div><ul><li>apply 改变this指向,第二参数为array</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>arr</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>32</span><span class=p>,</span><span class=mi>324</span><span class=p>,</span><span class=mi>22</span><span class=p>,</span><span class=mi>214</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>max</span> <span class=o>=</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>max</span><span class=p>.</span><span class=nx>apply</span><span class=p>(</span><span class=nb>Math</span><span class=p>,</span><span class=nx>arr</span><span class=p>)</span>
</span></span></code></pre></div><ul><li>bind</li></ul><ol><li>不改变原有函数this，不调用原函数</li><li>返回原函数的拷贝</li></ol><ul><li>严格模式</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=s1>&#39;use strict&#39;</span><span class=p>;</span>
</span></span></code></pre></div><p>严格模式 this 指向</p><ol><li>以前全局函数 this 指向 window；现在为 undefined</li><li>以前构造函数不 new 可调用，当普通函数，this 指向 全局；现在 报错</li><li>new 实例化构造函数指向创建的对象实例</li><li>定时器 this 指向 window</li><li>事件，对象指向调用者</li><li>函数不能有重名参数</li><li>函数声明必须在顶层，ES6引入块级作用；不允许非函数代码块内声明函数</li></ol><blockquote><p>可为整个脚本开启，获取为某个函数开启</p></blockquote><p>高阶函数 => 函数为参数 委托</p><p>闭包 => 有权访问另一个函数作用域中的变量的函数，延伸变量作用范围</p><p>浅拷贝 => 拷贝一层，更深层次数据（对象,数组）只拷贝引用地址</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 浅拷贝语法
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>Object</span><span class=p>.</span><span class=nx>assign</span><span class=p>(</span><span class=nx>sourceObj</span><span class=p>,</span><span class=nx>newObj</span><span class=p>)</span>
</span></span></code></pre></div><p>深拷贝 => 拷贝多层，每一层级都会拷贝</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js></code></pre></div><h2 id=正则>正则<a hidden class=anchor aria-hidden=true href=#正则>#</a></h2><h2 id=异步>异步<a hidden class=anchor aria-hidden=true href=#异步>#</a></h2><h3 id=promise>Promise<a hidden class=anchor aria-hidden=true href=#promise>#</a></h3><blockquote><p>ES5语法 避免回调地狱；是个构造函数</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>promise</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Promise</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>promise</span><span class=p>.</span><span class=nx>then</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=c1>// 返回的是Promise对象的话，可进行链式调用
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=k>catch</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=c1>// 捕获错误；最后可捕获前所有错误，最前则避免then停止持续执行
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nx>all</span><span class=p>(</span><span class=nx>promiseArry</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>// 根据promiseArray 顺序执行，执行完毕后返回结果
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nx>race</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=c1>// 并行执行传入的promise，相较all更快
</span></span></span></code></pre></div><h3 id=await-async>await async<a hidden class=anchor aria-hidden=true href=#await-async>#</a></h3><blockquote><p>ES8 es2017</p></blockquote><p>await 返回异步操作之后的结果</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>async</span> <span class=nx>waitTimer</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>await</span> <span class=nx>setInterval</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=err>&#39;</span><span class=nx>timer</span><span class=p>)}</span> <span class=p>,</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=eventloop>EventLoop<a hidden class=anchor aria-hidden=true href=#eventloop>#</a></h3><ol><li>js为单线程</li><li>异步任务委托给宿主环境（浏览器，node.js）执行</li><li>已完成异步任务对应回调在任务队列中排队等待执行</li><li>js主线程执行结束后，再执行该任务队列，依次执行</li></ol><h3 id=宏任务-微任务>宏任务-微任务<a hidden class=anchor aria-hidden=true href=#宏任务-微任务>#</a></h3><p>异步任务分为 宏任务 微任务</p><p>每次宏任务执行完；判断是否有微任务；有则执行完所有微任务再执行宏任务</p><p>宏任务： 需要排队等待的<br>exap： setInterval</p><p>微任务<br>exap： Promise</p><h2 id=es6语法>ES6语法<a hidden class=anchor aria-hidden=true href=#es6语法>#</a></h2><p>ES2015 之后的标准</p><h3 id=let>let<a hidden class=anchor aria-hidden=true href=#let>#</a></h3><ul><li>有块级作用域</li><li>不存在变量提升（先声明才能使用）</li><li>暂时性死区</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>num</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>if</span><span class=p>(</span><span class=kc>true</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=nx>num</span> <span class=o>=</span> <span class=mi>20</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>num</span> <span class=o>=</span> <span class=mi>30</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// num is not defined
</span></span></span></code></pre></div><h3 id=const>const<a hidden class=anchor aria-hidden=true href=#const>#</a></h3><ul><li>值（内存地址）不可变</li><li>有块级作用域</li><li>声明必须赋值</li></ul><h3 id=解构赋值>解构赋值<a hidden class=anchor aria-hidden=true href=#解构赋值>#</a></h3><p>按照一定模式，从数组或对象中提取值，将提取的值赋值给另一个变量</p><blockquote><p>数组</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=p>[</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>,</span><span class=nx>c</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>b</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>c</span><span class=p>)</span>
</span></span></code></pre></div><blockquote><p>对象</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=nx>person</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;zs&#39;</span><span class=p>,</span> <span class=nx>age</span><span class=o>:</span> <span class=mi>20</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=p>{</span><span class=nx>name</span><span class=p>,</span> <span class=nx>age</span><span class=p>}</span> <span class=o>=</span><span class=nx>person</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>name</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>age</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=p>{</span><span class=nx>name</span><span class=o>:</span> <span class=nx>myName</span><span class=p>,</span> <span class=nx>age</span><span class=o>:</span> <span class=nx>myAge</span><span class=p>}</span> <span class=o>=</span><span class=nx>person</span>  <span class=c1>// myName 等为别名
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>myName</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>myAge</span><span class=p>)</span>
</span></span></code></pre></div><h3 id=箭头函数>箭头函数<a hidden class=anchor aria-hidden=true href=#箭头函数>#</a></h3><ul><li><p>函数体只有一句话，且执行结果就是返回值，可省略函数体大括号</p></li><li><p>形参只有一个，可省略小括号</p></li></ul><h3 id=array-扩展方法>Array 扩展方法<a hidden class=anchor aria-hidden=true href=#array-扩展方法>#</a></h3><ul><li>Array.from</li></ul><p>将伪数组或可遍历对象转化为数组；第二个参数，类似数组的map，对每个元素进行处理，将处理后的值返回数组</p><ul><li>Array.find</li></ul><p>查找符合条件的第一个数组成员，没有返回 undefined</p><ul><li><p>Array.findIndex</p></li><li><p>Array.includes</p></li></ul><p>数组中是否包含给定值，返回bool</p><h3 id=模版字符串>模版字符串<a hidden class=anchor aria-hidden=true href=#模版字符串>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=nx>name</span> <span class=o>=</span> <span class=sb>`</span><span class=si>${</span><span class=nx>name</span><span class=si>}</span><span class=sb> hello`</span>
</span></span></code></pre></div><h3 id=string-扩展方法>String 扩展方法<a hidden class=anchor aria-hidden=true href=#string-扩展方法>#</a></h3><ul><li>startsWith</li></ul><p>参数字符串是否在原字符串头部，返回bool</p><ul><li>endsWith</li></ul><p>参数字符串是否在原字符串尾部</p><ul><li>repeat</li></ul><p>将字符串重复N次，返回新字符串</p><h3 id=set-数据结构>Set 数据结构<a hidden class=anchor aria-hidden=true href=#set-数据结构>#</a></h3><p>类似数组，成员值唯一，没有重复值；是个构造函数</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>s1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Set</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nx>s1</span><span class=p>.</span><span class=nx>size</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>s1</span><span class=p>.</span><span class=nx>add</span><span class=p>()</span>        <span class=c1>// return s1
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nx>s1</span><span class=p>.</span><span class=k>delete</span><span class=p>()</span>     <span class=c1>// return bool
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nx>s1</span><span class=p>.</span><span class=nx>has</span><span class=p>()</span>        <span class=c1>// return bool
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nx>s1</span><span class=p>.</span><span class=nx>clear</span><span class=p>()</span>      <span class=c1>// no return
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nx>s1</span><span class=p>.</span><span class=nx>forEach</span><span class=p>((</span><span class=nx>value</span><span class=p>,</span><span class=nx>index</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>value</span><span class=o>+</span><span class=s1>&#39; &#39;</span><span class=o>+</span><span class=nx>index</span><span class=p>))</span>
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=blog.2332334.xyz/posts/web/js/><span class=title>« Prev</span><br><span>JS</span>
</a><a class=next href=blog.2332334.xyz/posts/web/js_modules/><span class=title>Next »</span><br><span>JS Modules</span></a></nav></footer></article></main><footer class=footer><span>© <a href=https://github.com/adityatelange/hugo-PaperMod/graphs/contributors>2332334</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>