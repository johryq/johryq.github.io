<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Docker | 2332334</title><meta name=keywords content="docker"><meta name=description content="Docker - 2332334"><meta name=author content="2332334"><link rel=canonical href=//localhost:1313/posts/software/docker/><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=//localhost:1313/favicon.ico><link rel=icon type=image/png sizes=16x16 href=//localhost:1313/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=//localhost:1313/favicon-32x32.png><link rel=apple-touch-icon href=//localhost:1313/apple-touch-icon.png><link rel=mask-icon href=//localhost:1313/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=//localhost:1313/posts/software/docker/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="//localhost:1313/posts/software/docker/"><meta property="og:site_name" content="2332334"><meta property="og:title" content="Docker"><meta property="og:description" content="false"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-11-08T19:58:55+08:00"><meta property="article:modified_time" content="2024-12-04T09:12:16+08:00"><meta property="article:tag" content="Docker"><meta property="og:image" content="//localhost:1313/images/papermod-cover.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="//localhost:1313/images/papermod-cover.png"><meta name=twitter:title content="Docker"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"//localhost:1313/posts/"},{"@type":"ListItem","position":2,"name":"Docker","item":"//localhost:1313/posts/software/docker/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Docker","name":"Docker","description":"","keywords":["docker"],"articleBody":"docker docker容器简介 虚拟化容器\ndocker大致由三部分组成 仓库 镜像 容器\ndocker安装 卸载旧版本\n# ubuntu sudo apt-get remove docker docker-engine docker.io containerd runc # centos sudo yum remove docker \\ docker-client \\ docker-client-latest \\ docker-common \\ docker-latest \\ docker-latest-logrotate \\ docker-logrotate \\ docker-engine 自动化脚本安装(test环境,root用户) 方式一:\ncurl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun 方式二:\ncurl -fsSL https://get.docker.com -o get-docker.sh \\ sudo sh get-docker.sh sudo sh get-docker.sh 卸载\nsudo apt-get purge docker-ce docker-ce-cli containerd.io sudo rm -rf /var/lib/docker sudo rm -rf /var/lib/containerd 仓库安装(推荐) ubuntu sudo apt-get update sudo apt-get install \\ apt-transport-https \\ ca-certificates \\ curl \\ gnupg \\ lsb-release curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg # x86_64/amd64 echo \\ \"deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \\ $(lsb_release -cs) stable\" | sudo tee /etc/apt/sources.list.d/docker.list \u003e /dev/null sudo apt-get update sudo apt-get install docker-ce docker-ce-cli containerd.io centos sudo yum install -y yum-utils sudo yum-config-manager \\ --add-repo \\ https://download.docker.com/linux/centos/docker-ce.repo sudo yum install docker-ce docker-ce-cli containerd.io sudo systemctl start docker sudo docker run hello-world 手动安装 添加用户: sudo usermod -aG docker your-user\n1.选择https://download.docker.com/linux/需要的版本\ncentos/x86_74/stable/Packages/.rpm\ndists/pool/stable/.deb\nubuntu\nsudo dpkg -i /path/to/package.deb sudo docker run hello-world centos安装Docker Engine\nsudo yum install /path/to/package.rpm # 安装docker完成,并创建了docker组 sudo systemctl start docker sudo docker run hello-world docker相关命令 仓库 docker search 你要找的镜像 docker pull 下载镜像到本地 镜像 docker images # 展示你本地的镜像信息 docker rmi # remove 镜像 容器 运行容器\ndocker run 参数 --name 名字 路径 #运行某容器\n基本参数 解析 -i 交互模式 -t 终端 -d 后台运行 -P 将容器内部使用的网络端口映射到我们使用的主机上 -p 将端口映射到本地制定端口 v 主机路径:容器内路径 –name 容器名 docker run -it image:[version] /bin/bash docker run -d image:[version] /bin/bash docker logs containerID # 容器标准输出 Ctrl + p + q 退出容器而不终止\n查看容器\ndocker ps -a #查看所有容器状态等信息 docker port #端口相关 docker top docker inspect 底层信息，Docker容器配置和状态信息 重启容器相关\ndocker start 容器ID或者容器名字 # 启动已停止容器 docker restart ID/Name # 重启停止的容器 docker stop ID/Name #停止 docker attach ID/Name #进入后台运行的容器但是退出会使容器停止 docker exec -it ID/Name /bin/bash # 这个命令进入后台容器，退出容器终端时，不会导致容器的停止 删除容器\ndocker rm -rf ID/Name #删除停止的容器 docker container prune #清理掉所有终止的容器 导入导出容器快照\ndocker export 容器ID \u003e 文件名.tar #导出 docker import #本地导入 docker import 地址 镜像 #通过URL或目录导入 打包镜像-dockerfile 相关指令\n命令 解释 FROM 构建基于那个镜像 ENV 设置环境变量 ADD copy文件或目录到容器，如果是URL或压缩包会自动下载解压 COPY 与上类似，但不具备后述功能 MAINTAINER img维护者邮箱及姓名 RUN 构建镜像执行的命令，每run一次构建一层 CMD 容器启动命令，如多个以最后一个为准，也可为netrypoint提供参数 VOLUME 指定容器挂载点到宿主机自动生成目录或其他容器 USER 为run，cmd，entrypoint执行指定用户 WORKDIR 为run，cmd，entrypoint，copy，add 设置工作目录，即切换目录 HEALTHCHECH 健康检查 ARG 构建时指定参数 EXPOSE 声明服务端口，仅声明 ENTRYPOINT 运行容器时执行shell命令 docker-compose 参考 菜鸟docker教程\ndocker官网\n官方文档\n","wordCount":"359","inLanguage":"en","image":"//localhost:1313/images/papermod-cover.png","datePublished":"2021-11-08T19:58:55+08:00","dateModified":"2024-12-04T09:12:16+08:00","author":{"@type":"Person","name":"2332334"},"mainEntityOfPage":{"@type":"WebPage","@id":"//localhost:1313/posts/software/docker/"},"publisher":{"@type":"Organization","name":"2332334","logo":{"@type":"ImageObject","url":"//localhost:1313/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=//localhost:1313/ accesskey=h title="2332334 (Alt + H)">2332334</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=//localhost:1313/archives title=活动><span>活动</span></a></li><li><a href=//localhost:1313/search/ title=搜索><span>搜索</span></a></li><li><a href=//localhost:1313/tags/ title=标签><span>标签</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=//localhost:1313/>Home</a>&nbsp;»&nbsp;<a href=//localhost:1313/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Docker</h1><div class=post-meta><span title='2021-11-08 19:58:55 +0800 CST'>2021-11-08</span>&nbsp;·&nbsp;359 words&nbsp;·&nbsp;2332334</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#docker容器简介>docker容器简介</a></li><li><a href=#docker安装>docker安装</a><ul><li><a href=#自动化脚本安装test环境root用户>自动化脚本安装(test环境,root用户)</a></li><li><a href=#仓库安装推荐>仓库安装(推荐)</a></li><li><a href=#手动安装>手动安装</a></li></ul></li><li><a href=#docker相关命令>docker相关命令</a><ul><li><a href=#仓库>仓库</a></li><li><a href=#镜像>镜像</a></li><li><a href=#容器>容器</a></li></ul></li><li><a href=#打包镜像-dockerfile>打包镜像-dockerfile</a></li><li><a href=#docker-compose>docker-compose</a></li><li><a href=#参考>参考</a></li></ul></nav></div></details></div><div class=post-content><h1 id=docker>docker<a hidden class=anchor aria-hidden=true href=#docker>#</a></h1><h2 id=docker容器简介>docker容器简介<a hidden class=anchor aria-hidden=true href=#docker容器简介>#</a></h2><p>虚拟化容器</p><p>docker大致由三部分组成 <strong>仓库</strong> <strong>镜像</strong> <strong>容器</strong></p><h2 id=docker安装>docker安装<a hidden class=anchor aria-hidden=true href=#docker安装>#</a></h2><blockquote><p><code>卸载旧版本</code></p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># ubuntu</span>
</span></span><span class=line><span class=cl>sudo apt-get remove docker docker-engine docker.io containerd runc
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># centos</span>
</span></span><span class=line><span class=cl>sudo yum remove docker <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>                  docker-client <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>                  docker-client-latest <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>                  docker-common <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>                  docker-latest <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>                  docker-latest-logrotate <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>                  docker-logrotate <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>                  docker-engine
</span></span></code></pre></div><h3 id=自动化脚本安装test环境root用户>自动化脚本安装(test环境,root用户)<a hidden class=anchor aria-hidden=true href=#自动化脚本安装test环境root用户>#</a></h3><p>方式一:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -fsSL https://get.docker.com <span class=p>|</span> bash -s docker --mirror Aliyun
</span></span></code></pre></div><p>方式二:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -fsSL https://get.docker.com -o get-docker.sh <span class=se>\ </span>sudo sh get-docker.sh
</span></span><span class=line><span class=cl>sudo sh get-docker.sh
</span></span></code></pre></div><p>卸载</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt-get purge docker-ce docker-ce-cli containerd.io
</span></span><span class=line><span class=cl>sudo rm -rf /var/lib/docker
</span></span><span class=line><span class=cl>sudo rm -rf /var/lib/containerd
</span></span></code></pre></div><h3 id=仓库安装推荐>仓库安装(推荐)<a hidden class=anchor aria-hidden=true href=#仓库安装推荐>#</a></h3><h4 id=ubuntu>ubuntu<a hidden class=anchor aria-hidden=true href=#ubuntu>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt-get update
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sudo apt-get install <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    apt-transport-https <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    ca-certificates <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    curl <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    gnupg <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    lsb-release
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>curl -fsSL https://download.docker.com/linux/ubuntu/gpg <span class=p>|</span> sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># x86_64/amd64</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  <span class=s2>&#34;deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \
</span></span></span><span class=line><span class=cl><span class=s2>  </span><span class=k>$(</span>lsb_release -cs<span class=k>)</span><span class=s2> stable&#34;</span> <span class=p>|</span> sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sudo apt-get update
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sudo apt-get install docker-ce docker-ce-cli containerd.io
</span></span></code></pre></div><h4 id=centos>centos<a hidden class=anchor aria-hidden=true href=#centos>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo yum install -y yum-utils
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sudo yum-config-manager <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --add-repo <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    https://download.docker.com/linux/centos/docker-ce.repo
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sudo yum install docker-ce docker-ce-cli containerd.io
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sudo systemctl start docker
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sudo docker run hello-world
</span></span></code></pre></div><h3 id=手动安装>手动安装<a hidden class=anchor aria-hidden=true href=#手动安装>#</a></h3><blockquote><p>添加用户: <code>sudo usermod -aG docker your-user</code></p></blockquote><p>1.选择<code>https://download.docker.com/linux/</code>需要的版本</p><ul><li><p><code>centos/x86_74/stable/Packages/.rpm</code></p></li><li><p><code>dists/pool/stable/.deb</code></p></li></ul><p>ubuntu</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo dpkg -i /path/to/package.deb
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sudo docker run hello-world
</span></span></code></pre></div><p>centos安装<code>Docker Engine</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo yum install /path/to/package.rpm
</span></span><span class=line><span class=cl><span class=c1># 安装docker完成,并创建了docker组</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sudo systemctl start docker
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sudo docker run hello-world
</span></span></code></pre></div><h2 id=docker相关命令>docker相关命令<a hidden class=anchor aria-hidden=true href=#docker相关命令>#</a></h2><h3 id=仓库>仓库<a hidden class=anchor aria-hidden=true href=#仓库>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker search 你要找的镜像
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>docker pull 下载镜像到本地
</span></span></code></pre></div><h3 id=镜像>镜像<a hidden class=anchor aria-hidden=true href=#镜像>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker images
</span></span><span class=line><span class=cl><span class=c1># 展示你本地的镜像信息</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>docker rmi
</span></span><span class=line><span class=cl><span class=c1># remove 镜像</span>
</span></span></code></pre></div><h3 id=容器>容器<a hidden class=anchor aria-hidden=true href=#容器>#</a></h3><blockquote><p>运行容器</p></blockquote><p><code>docker run 参数 --name 名字 路径</code> #运行某容器</p><table><thead><tr><th>基本参数</th><th>解析</th></tr></thead><tbody><tr><td>-i</td><td>交互模式</td></tr><tr><td>-t</td><td>终端</td></tr><tr><td>-d</td><td>后台运行</td></tr><tr><td>-P</td><td>将容器内部使用的网络端口映射到我们使用的主机上</td></tr><tr><td>-p</td><td>将端口映射到本地制定端口</td></tr><tr><td>v</td><td>主机路径:容器内路径</td></tr><tr><td>&ndash;name</td><td>容器名</td></tr></tbody></table><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker run -it image:<span class=o>[</span>version<span class=o>]</span> /bin/bash
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>docker run -d image:<span class=o>[</span>version<span class=o>]</span> /bin/bash
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>docker logs containerID
</span></span><span class=line><span class=cl><span class=c1># 容器标准输出</span>
</span></span></code></pre></div><p><kbd>Ctrl</kbd> + <kbd>p</kbd> + <kbd>q</kbd> 退出容器而不终止</p><blockquote><p>查看容器</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker ps -a  <span class=c1>#查看所有容器状态等信息</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>docker port <span class=c1>#端口相关</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>docker top
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>docker inspect 底层信息，Docker容器配置和状态信息
</span></span></code></pre></div><blockquote><p>重启容器相关</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker start 容器ID或者容器名字 
</span></span><span class=line><span class=cl><span class=c1># 启动已停止容器</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>docker restart ID/Name 
</span></span><span class=line><span class=cl><span class=c1># 重启停止的容器</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>docker stop ID/Name 
</span></span><span class=line><span class=cl><span class=c1>#停止</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>docker attach ID/Name 
</span></span><span class=line><span class=cl><span class=c1>#进入后台运行的容器但是退出会使容器停止</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>docker <span class=nb>exec</span> -it ID/Name  /bin/bash
</span></span><span class=line><span class=cl><span class=c1># 这个命令进入后台容器，退出容器终端时，不会导致容器的停止</span>
</span></span></code></pre></div><blockquote><p>删除容器</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker rm -rf ID/Name 
</span></span><span class=line><span class=cl><span class=c1>#删除停止的容器</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>docker container prune 
</span></span><span class=line><span class=cl><span class=c1>#清理掉所有终止的容器</span>
</span></span></code></pre></div><blockquote><p>导入导出容器快照</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker <span class=nb>export</span> 容器ID &gt; 文件名.tar 
</span></span><span class=line><span class=cl><span class=c1>#导出</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>docker import 
</span></span><span class=line><span class=cl><span class=c1>#本地导入</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>docker import 地址 镜像 
</span></span><span class=line><span class=cl><span class=c1>#通过URL或目录导入</span>
</span></span></code></pre></div><h2 id=打包镜像-dockerfile>打包镜像-dockerfile<a hidden class=anchor aria-hidden=true href=#打包镜像-dockerfile>#</a></h2><p>相关指令</p><table><thead><tr><th>命令</th><th>解释</th></tr></thead><tbody><tr><td>FROM</td><td>构建基于那个镜像</td></tr><tr><td>ENV</td><td>设置环境变量</td></tr><tr><td>ADD</td><td>copy文件或目录到容器，如果是URL或压缩包会自动下载解压</td></tr><tr><td>COPY</td><td>与上类似，但不具备后述功能</td></tr><tr><td>MAINTAINER</td><td>img维护者邮箱及姓名</td></tr><tr><td>RUN</td><td>构建镜像执行的命令，每run一次构建一层</td></tr><tr><td>CMD</td><td>容器启动命令，如多个以最后一个为准，也可为netrypoint提供参数</td></tr><tr><td>VOLUME</td><td>指定容器挂载点到宿主机自动生成目录或其他容器</td></tr><tr><td>USER</td><td>为run，cmd，entrypoint执行指定用户</td></tr><tr><td>WORKDIR</td><td>为run，cmd，entrypoint，copy，add 设置工作目录，即切换目录</td></tr><tr><td>HEALTHCHECH</td><td>健康检查</td></tr><tr><td>ARG</td><td>构建时指定参数</td></tr><tr><td>EXPOSE</td><td>声明服务端口，仅声明</td></tr><tr><td>ENTRYPOINT</td><td>运行容器时执行shell命令</td></tr></tbody></table><h2 id=docker-compose>docker-compose<a hidden class=anchor aria-hidden=true href=#docker-compose>#</a></h2><h2 id=参考>参考<a hidden class=anchor aria-hidden=true href=#参考>#</a></h2><ul><li><p><a href=https://www.runoob.com/docker/docker-tutorial.html>菜鸟docker教程</a></p></li><li><p><a href=https://docs.docker.com/get-docker/>docker官网</a></p></li><li><p><a href=https://docs.docker.com/engine/install>官方文档</a></p></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=//localhost:1313/tags/docker/>Docker</a></li></ul><nav class=paginav><a class=prev href=//localhost:1313/posts/software/dll%E5%8F%8D%E7%BC%96%E8%AF%91/><span class=title>« Prev</span><br><span>DLL反编译</span>
</a><a class=next href=//localhost:1313/posts/web/express+koa2/><span class=title>Next »</span><br><span>Express+Koa2</span></a></nav></footer></article></main><footer class=footer><span>© <a href=https://github.com/adityatelange/hugo-PaperMod/graphs/contributors>2332334</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>