---
title: "Vim"
date: 2021-11-08T19:58:55+08:00
lastmod: 2024-12-04T13:27:26+08:00
draft: false
keywords: []
description: ""
tags: []
categories: ['software']
author: "2332334"

---
<!--more-->

# Vim

## Vim基础命令

- 插入模式
  - <kbd>a</kbd> 在光标所在字符后插入
  - <kbd>A</kbd> 在光标所在行尾插入
  - <kbd>i</kbd> 在光标所在字符前插入
  - <kbd>I</kbd> 在光标所在行行首插入
  - <kbd>o</kbd> 在光标下插入新行
  - <kbd>O</kbd> 在光标上插入新行
- 定位命令
  - :set nu   设置行号
  - :set nonu 取消行号
  - gg        到第一行
  - G         到最后一行
  - nG        到第n行
  - :n        到第n行
  - $         移至行尾
  - 0         移至行首
- 删除
  - x   删除光标所在处字符
  - nx  删除光标所在处后n个字符
  - dd  删除光标所在行,ndd删除n行
  - dG  删除光标所在行至文件末尾
  - D   删除光标所在处到行尾内容
  - :n1,n2d 删除指定范围行
- 复制剪切
  - yy  复制当前行
  - nyy 复制当前行以下n行
  - dd  剪切当前行
  - ndd 剪切当前行以下n行
  - p,P 粘贴在当前光标所在行下或行上
- 替换取消
  - r 取代光标所在处字符
  - R 从光标所在处开始替换字符,Esc接受
  - u 取消上一步操作
- 搜索和替换
  - /string           搜索指定字符串,忽略大小写:set ic
  - n                 搜索指定字符串的下一个出现位置
  - :%s/old/new/g     全文替换指定字符串
  - :n1,n2s/old/new/g 在一定范围内替换指定字符串
- 保存退出
  - :w  保存修改
  - :w new_filename 另存为指定为文件
  - wq  保存修改并退出
  - ZZ  快捷键,保存修改并退出
  - q!  不保存修改退出
  - wq! 保存修改并退出(文件所有者及root可用)

## vim技巧

- `:r !命令`
  
  - 导入命令执行结果
- `:r 文件`
  
  - 导入文件内容
- `:! 命令`
  
  - 不退出vim执行命令
- 快捷键
  - `map` 自定义快捷键
  
  - `map ^p I#<ESC>` Ctrl+p设置行注释
  
  - `:n1,n2s/^/#/g` 连续行注释(^行首)
  
  - `:n1,n2s/^#//g` 取消连续行注释
  
  - `:n1,n2s/^/\/\//g`
  
  - `ab 内容a s替换内容b` 将a替换为b

vim配置文件位置:
  
    > /home/用户名/.vimrc